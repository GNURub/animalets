---
import Layout from './Layout.astro';

interface Props {
  title: string;
}

const { profile } = Astro.locals;
const { title } = Astro.props;
---

<Layout title={title}>
  <div class="flex min-h-screen flex-col">
    <!-- Navegación Admin -->
    <nav class="bg-purple-600 text-white shadow-lg">
      <div class="container mx-auto px-4">
        <div class="flex h-16 items-center justify-between">
          <!-- Logo -->
          <a href="/admin" class="flex items-center gap-2 text-2xl font-bold">
            👑 Admin Panel
          </a>

          <!-- Navegación Desktop -->
          <div class="hidden items-center gap-6 md:flex">
            <a href="/admin" class="transition hover:text-purple-200">
              Dashboard
            </a>
            <a
              href="/admin/calendario"
              class="transition hover:text-purple-200"
            >
              Calendario
            </a>
            <a href="/admin/hoy" class="transition hover:text-purple-200">
              Hoy
            </a>
            <a href="/admin/servicios" class="transition hover:text-purple-200">
              Servicios
            </a>
            <a href="/admin/ajustes" class="transition hover:text-purple-200">
              Ajustes
            </a>
          </div>

          <!-- Usuario -->
          <div class="flex items-center gap-4">
            <a href="/app/dashboard" class="text-sm hover:text-purple-200">
              Ver como cliente
            </a>
            <span class="hidden text-sm md:block">
              {profile?.full_name || profile?.email}
            </span>
            <form action="/api/auth/signout" method="POST">
              <button
                type="submit"
                class="rounded-lg bg-purple-700 px-4 py-2 text-sm font-medium transition hover:bg-purple-800"
              >
                Cerrar sesión
              </button>
            </form>
          </div>
        </div>

        <!-- Navegación Mobile -->
        <div class="flex gap-3 overflow-x-auto pb-4 text-sm md:hidden">
          <a href="/admin" class="whitespace-nowrap hover:text-purple-200"
            >Dashboard</a
          >
          <a
            href="/admin/calendario"
            class="whitespace-nowrap hover:text-purple-200">Calendario</a
          >
          <a href="/admin/hoy" class="whitespace-nowrap hover:text-purple-200"
            >Hoy</a
          >
          <a
            href="/admin/servicios"
            class="whitespace-nowrap hover:text-purple-200">Servicios</a
          >
          <a
            href="/admin/ajustes"
            class="whitespace-nowrap hover:text-purple-200">Ajustes</a
          >
        </div>
      </div>
    </nav>

    <!-- Contenido Principal -->
    <main class="container mx-auto flex-1 px-4 py-8">
      <slot />
    </main>

    <!-- Footer -->
    <footer class="mt-auto bg-gray-800 py-6 text-white">
      <div class="container mx-auto px-4 text-center text-sm">
        <p>&copy; 2025 Animalets Admin. Todos los derechos reservados.</p>
      </div>
    </footer>
  </div>
</Layout>
