---
import Layout from './Layout.astro';

interface Props {
  title: string;
}

const { profile } = Astro.locals;
const { title } = Astro.props;
---

<Layout title={title}>
  <div class='min-h-screen flex flex-col'>
    <!-- Navegación Admin -->
    <nav class='bg-purple-600 text-white shadow-lg'>
      <div class='container mx-auto px-4'>
        <div class='flex items-center justify-between h-16'>
          <!-- Logo -->
          <a href='/admin' class='text-2xl font-bold flex items-center gap-2'>
            👑 Admin Panel
          </a>

          <!-- Navegación Desktop -->
          <div class='hidden md:flex items-center gap-6'>
            <a href='/admin' class='hover:text-purple-200 transition'>
              Dashboard
            </a>
            <a
              href='/admin/calendario'
              class='hover:text-purple-200 transition'>
              Calendario
            </a>
            <a href='/admin/hoy' class='hover:text-purple-200 transition'>
              Hoy
            </a>
            <a href='/admin/servicios' class='hover:text-purple-200 transition'>
              Servicios
            </a>
            <a href='/admin/ajustes' class='hover:text-purple-200 transition'>
              Ajustes
            </a>
          </div>

          <!-- Usuario -->
          <div class='flex items-center gap-4'>
            <a href='/app/dashboard' class='text-sm hover:text-purple-200'>
              Ver como cliente
            </a>
            <span class='hidden md:block text-sm'>
              {profile?.full_name || profile?.email}
            </span>
            <form action='/api/auth/signout' method='POST'>
              <button
                type='submit'
                class='bg-purple-700 hover:bg-purple-800 px-4 py-2 rounded-lg transition text-sm font-medium'>
                Cerrar sesión
              </button>
            </form>
          </div>
        </div>

        <!-- Navegación Mobile -->
        <div class='md:hidden pb-4 flex gap-3 text-sm overflow-x-auto'>
          <a href='/admin' class='hover:text-purple-200 whitespace-nowrap'
            >Dashboard</a
          >
          <a
            href='/admin/calendario'
            class='hover:text-purple-200 whitespace-nowrap'>Calendario</a
          >
          <a href='/admin/hoy' class='hover:text-purple-200 whitespace-nowrap'
            >Hoy</a
          >
          <a
            href='/admin/servicios'
            class='hover:text-purple-200 whitespace-nowrap'>Servicios</a
          >
          <a
            href='/admin/ajustes'
            class='hover:text-purple-200 whitespace-nowrap'>Ajustes</a
          >
        </div>
      </div>
    </nav>

    <!-- Contenido Principal -->
    <main class='flex-1 container mx-auto px-4 py-8'>
      <slot />
    </main>

    <!-- Footer -->
    <footer class='bg-gray-800 text-white py-6 mt-auto'>
      <div class='container mx-auto px-4 text-center text-sm'>
        <p>&copy; 2025 Animalets Admin. Todos los derechos reservados.</p>
      </div>
    </footer>
  </div>
</Layout>
