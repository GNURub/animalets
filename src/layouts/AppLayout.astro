---
import Layout from './Layout.astro';

interface Props {
  title: string;
}

const { profile } = Astro.locals;
const { title } = Astro.props;
---

<Layout title={title}>
  <div class="flex min-h-screen flex-col">
    <!-- Navegación -->
    <nav class="bg-blue-600 text-white shadow-lg">
      <div class="container mx-auto px-4">
        <div class="flex h-16 items-center justify-between">
          <!-- Logo -->
          <a
            href="/app/dashboard"
            class="flex items-center gap-2 text-2xl font-bold"
          >
            🐕 Animalets
          </a>

          <!-- Navegación Desktop -->
          <div class="hidden items-center gap-6 md:flex">
            <a href="/app/dashboard" class="transition hover:text-blue-200">
              Dashboard
            </a>
            <a href="/app/mascotas" class="transition hover:text-blue-200">
              Mis Mascotas
            </a>
            <a href="/app/reservar" class="transition hover:text-blue-200">
              Reservar Cita
            </a>
          </div>

          <!-- Usuario -->
          <div class="flex items-center gap-4">
            <span class="hidden text-sm md:block">
              Hola, {profile?.full_name || profile?.email}
            </span>
            <form action="/api/auth/signout" method="POST">
              <button
                type="submit"
                class="rounded-lg bg-blue-700 px-4 py-2 text-sm font-medium transition hover:bg-blue-800"
              >
                Cerrar sesión
              </button>
            </form>
          </div>
        </div>

        <!-- Navegación Mobile -->
        <div class="flex gap-4 pb-4 md:hidden">
          <a href="/app/dashboard" class="text-sm hover:text-blue-200"
            >Dashboard</a
          >
          <a href="/app/mascotas" class="text-sm hover:text-blue-200"
            >Mascotas</a
          >
          <a href="/app/reservar" class="text-sm hover:text-blue-200"
            >Reservar</a
          >
        </div>
      </div>
    </nav>

    <!-- Contenido Principal -->
    <main class="container mx-auto flex-1 px-4 py-8">
      <slot />
    </main>

    <!-- Footer -->
    <footer class="mt-auto bg-gray-800 py-6 text-white">
      <div class="container mx-auto px-4 text-center text-sm">
        <p>&copy; 2025 Animalets. Todos los derechos reservados.</p>
      </div>
    </footer>
  </div>
</Layout>
